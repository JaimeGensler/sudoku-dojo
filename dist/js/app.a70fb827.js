(function(e){function t(t){for(var n,l,u=t[0],a=t[1],i=t[2],s=0,b=[];s<u.length;s++)l=u[s],Object.prototype.hasOwnProperty.call(o,l)&&o[l]&&b.push(o[l][0]),o[l]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);d&&d(t);while(b.length)b.shift()();return c.push.apply(c,i||[]),r()}function r(){for(var e,t=0;t<c.length;t++){for(var r=c[t],n=!0,u=1;u<r.length;u++){var a=r[u];0!==o[a]&&(n=!1)}n&&(c.splice(t--,1),e=l(l.s=r[0]))}return e}var n={},o={app:0},c=[];function l(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.m=e,l.c=n,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(r,n,function(t){return e[t]}.bind(null,n));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],a=u.push.bind(u);u.push=t,u=u.slice();for(var i=0;i<u.length;i++)t(u[i]);var d=a;c.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},ba8c:function(e,t,r){},cd49:function(e,t,r){"use strict";r.r(t);r("e623"),r("e379"),r("5dc8"),r("37e1");var n=r("830f"),o=r("5c40");function c(e,t){var r=Object(o["v"])("Main");return Object(o["s"])(),Object(o["e"])(r)}var l=Object(o["j"])("header",null,[Object(o["j"])("h1",{class:"font-julius text-5xl text-center text-gray-800"}," Sudoku Dojo ")],-1),u={class:"flex items-stretch justify-center"},a={class:"shadow-lg"},i={class:"shadow-lg"};function d(e,t){var r=Object(o["v"])("Victory"),n=Object(o["v"])("Game"),c=Object(o["v"])("Sidebar");return Object(o["s"])(),Object(o["e"])(o["b"],null,[e.state.isActive?Object(o["f"])("",!0):Object(o["j"])(r,{key:0}),l,Object(o["j"])("main",u,[Object(o["j"])("section",a,[Object(o["j"])(n)]),Object(o["j"])("section",i,[Object(o["j"])(c)])])],64)}r("a4d3"),r("e01a"),r("d3b7");var s={tabindex:"0",class:"flex flex-wrap mx-auto my-0 border border-gray-800 game-board"},b=Object(o["i"])("        "),f=Object(o["i"])("\n    ");function p(e,t){var r=Object(o["v"])("Block");return Object(o["s"])(),Object(o["e"])("pre",s,[b,(Object(o["s"])(),Object(o["e"])(o["b"],null,Object(o["u"])(9,(function(e){return Object(o["j"])(r,{"block-index":e,key:e},null,8,["block-index"])})),64)),f])}var j={class:"flex flex-wrap w-1/3 h-third border border-gray-800"};function y(e,t){var r=Object(o["v"])("Cell");return Object(o["s"])(),Object(o["e"])("div",j,[(Object(o["s"])(),Object(o["e"])(o["b"],null,Object(o["u"])(9,(function(t){return Object(o["j"])(r,{"block-index":e.blockIndex,"block-sub-index":t,key:t},null,8,["block-index","block-sub-index"])})),64))])}r("a9e3"),r("1393");function v(e,t){var r=Object(o["v"])("Given"),n=Object(o["v"])("Big"),c=Object(o["v"])("Little");return Object(o["s"])(),Object(o["e"])("div",{class:["flex items-center justify-center w-1/3 h-third bg-white border-gray-700",e.borders],onClick:t[1]||(t[1]=function(t){return e.dispatch("CLICK_SELECT",e.cell.index)})},[e.displayType.given?Object(o["j"])(r,{key:0,value:e.cell.solvedValue,color:e.color},null,8,["value","color"]):Object(o["f"])("",!0),e.displayType.big?Object(o["j"])(n,{key:1,value:e.cell.currentValue,color:e.color},null,8,["value","color"]):Object(o["f"])("",!0),e.displayType.little?Object(o["j"])(c,{key:2,values:e.cell.candidates,color:e.color},null,8,["values","color"]):Object(o["f"])("",!0)],2)}r("caad");var O=function(e){var t=e.blockIndex,r=e.blockSubIndex,n=t-1,o=r-1,c=3*Math.floor(n/3)+Math.floor(o/3),l=n%3*3+o%3;return 9*c+l},h=function(e){return Object(o["d"])((function(){var t=[2,5,8].includes(e.row),r=[2,5,8].includes(e.column);return{"border-l":r,"border-r":r,"border-t":t,"border-b":t}}))},m=function(e){return Object(o["d"])((function(){var t=e.isGiven,r=!t&&(e.currentValue>0||0===e.candidates.length),n=!t&&!r;return{given:t,big:r,little:n}}))},g=function(e){return Object(o["d"])((function(){var t=e.hasConflictsWith.length>0;return t&&e.isSelected?"purple":t?"red":e.isSelected?"blue":""}))},E=function(e){return{borders:h(e),displayType:m(e),color:g(e)}},x=r("a1e9");function k(e,t){var r=Object(o["n"])(e);if(void 0===r)throw new TypeError("consumeGame(): The injected gameState was undefined. This is most likely due to an incorrect key.");var n=r[0],c=r[1],l=t?t(n):n;if(!Object(x["d"])(l))throw new Error("consumeGame(): The provided getFromState() callback did not return a reactive value. Make sure the return is not a primitive.");return[l,c]}var w=r("9ff4");function C(e,t){return Object(o["s"])(),Object(o["e"])("span",{class:["flex text-xl items-center justify-center w-full h-full",e.colors]},Object(w["G"])(e.content),3)}var S={props:{value:{type:Number,required:!0},color:{type:String,required:!0}},setup:function(e){var t=Object(o["d"])((function(){return 0!==e.value?String(e.value):null})),r=Object(o["d"])((function(){return e.color?"bg-"+e.color+"-200 text-"+e.color+"-700":null}));return{content:t,colors:r}}};S.render=C;var T=S;function A(e,t){return Object(o["s"])(),Object(o["e"])("span",{class:["flex items-center justify-center w-full h-full font-bold text-2xl bg-gray-300",e.colors]},Object(w["G"])(e.value),3)}var V={props:{value:{type:Number,required:!0},color:{type:String,required:!0}},setup:function(e){var t=Object(o["d"])((function(){return e.color?"bg-"+e.color+"-700 text-"+e.color+"-100":null}));return{colors:t}}};V.render=A;var L=V;r("2532"),r("ddb0");function M(e,t){return Object(o["s"])(),Object(o["e"])("div",{class:["w-full h-full flex flex-wrap",e.colors]},[(Object(o["s"])(),Object(o["e"])(o["b"],null,Object(o["u"])(9,(function(t){return Object(o["j"])("span",{class:"h-third w-1/3 text-xs flex items-center justify-center",key:t},Object(w["G"])(e.values.includes(t)?t:null),1)})),64))],2)}var _={props:{values:{required:!0},color:{type:String,required:!0}},setup:function(e){var t=Object(o["d"])((function(){return e.color?"bg-"+e.color+"-200 text-"+e.color+"-700":null}));return{colors:t}}};_.render=M;var I=_,D={props:{blockIndex:{type:Number,required:!0},blockSubIndex:{type:Number,required:!0}},setup:function(e){var t=k(Symbol["for"]("sudoku-dojo:game"),(function(t){return t.cells[O(e)]})),r=t[0],n=t[1],o=E(r),c=o.borders,l=o.displayType,u=o.color;return{borders:c,cell:r,dispatch:n,displayType:l,color:u}},components:{Big:T,Given:L,Little:I}};D.render=v;var G=D,N={props:{blockIndex:{type:Number,required:!0}},components:{Cell:G}};N.render=y;var P=N,U={components:{Block:P}};U.render=p;var W=U,q=Object(o["j"])("section",{class:"bg-gray-100 py-8 px-16 rounded shadow-lg"},[Object(o["j"])("button"),Object(o["j"])("h2",{class:"text-5xl font-bold text-center"},"Well done!"),Object(o["j"])("p",{class:"w-64"}," Congratulations, Sudoku Master. Click anywhere to return to the puzzle. Thanks for playing! ")],-1);function B(e,t){return Object(o["s"])(),Object(o["e"])(n["a"],{name:"fade"},{default:Object(o["B"])((function(){return[Object(o["j"])("div",{class:"absolute w-screen h-screen bg-opacity-75 bg-black flex items-center justify-center",onClick:t[1]||(t[1]=function(){return e.handleClick.apply(e,arguments)})},[q])]})),_:1})}var z={setup:function(){var e=k(Symbol["for"]("sudoku-dojo:game"))[0],t=function(){return e.isActive=!0};return{handleClick:t}}};z.render=B;var J=z,K={class:"h-full w-64 bg-white p-4 border-gray-800 border-t-2 border-r-2 border-b-2 space-y-4"},R=Object(o["j"])("h2",{class:"font-bold text-xl border-b border-gray-700"}," About & Settings ",-1);function F(e,t){var r=Object(o["v"])("Instructions"),n=Object(o["v"])("NumPad"),c=Object(o["v"])("InputMode");return Object(o["s"])(),Object(o["e"])("div",K,[R,Object(o["j"])(r),Object(o["j"])(n),Object(o["j"])(c)])}var $={class:"border border-gray-700"},H={class:"flex flex-wrap w-30"};function Q(e,t){return Object(o["s"])(),Object(o["e"])("div",$,[Object(o["j"])("div",H,[(Object(o["s"])(),Object(o["e"])(o["b"],null,Object(o["u"])(9,(function(t){return Object(o["j"])("button",{class:["h-10 w-10 p-1 border-gray-700",e.getBorders(t)],onClick:function(r){return e.handleClick(t)}},Object(w["G"])(t),11,["onClick"])})),64))]),Object(o["j"])("button",{class:"w-full border-t border-gray-700",onClick:t[1]||(t[1]=function(t){return e.handleClick(0)})}," Delete ")])}var X={components:{},setup:function(){var e=k(Symbol["for"]("sudoku-dojo:game")),t=e[0],r=e[1],n=function(e){var t=[4,5,6].includes(e),r=[2,5,8].includes(e);return{"border-l":r,"border-r":r,"border-t":t,"border-b":t}},o=function(e){return r("SET_"+t.mode,e)};return{getBorders:n,handleClick:o}}};X.render=Q;var Y,Z=X,ee={class:"flex"};function te(e,t){return Object(o["s"])(),Object(o["e"])("div",ee,[Object(o["j"])("button",{class:["p-2 border border-gray-700 rounded-l-lg transition-colors duration-150",e.currentMode.VALUE],onClick:t[1]||(t[1]=function(t){return e.handleClick("VALUE")})}," Values ",2),Object(o["j"])("button",{class:["p-2 border border-gray-700 rounded-r-lg transition-colors duration-150",e.currentMode.CANDIDATE],onClick:t[2]||(t[2]=function(t){return e.handleClick("CANDIDATE")})}," Pencil Marks ",2)])}(function(e){e["VALUE"]="VALUE",e["CANDIDATE"]="CANDIDATE"})(Y||(Y={}));var re={components:{},setup:function(){var e=k(Symbol["for"]("sudoku-dojo:game")),t=e[0],r=e[1],n=Object(o["d"])((function(){var e=t.mode===Y.VALUE;return{VALUE:{"border-r-0":!e,"border-blue-800":e,"text-blue-800":e,"bg-blue-200":e},CANDIDATE:{"border-l-0":e,"border-blue-800":!e,"text-blue-800":!e,"bg-blue-200":!e}}})),c=function(e){Y[e]!==t.mode&&r("TOGGLE_INPUT_MODE")};return{state:t,currentMode:n,handleClick:c}}};re.render=te;var ne=re,oe=Object(o["j"])("p",{class:"text-md"}," Play a classic game of Sudoku! This project is an experiment in custom state management, and so this puzzle is the only one available for now. ",-1);function ce(e,t){return Object(o["s"])(),Object(o["e"])("div",null,[oe])}var le={components:{NumPad:Z,InputMode:ne}};le.render=ce;var ue=le,ae={components:{NumPad:Z,InputMode:ne,Instructions:ue}};ae.render=F;var ie=ae;function de(e){Object(o["o"])((function(){return window.addEventListener("keydown",e)})),Object(o["p"])((function(){return window.removeEventListener("keydown",e)}))}function se(e,t){var r=t.initialize,n=t.rules,c=t.keyMap,l=Object(x["h"])(r()),u=function(e,t){if(void 0===n[e])throw new Error("provideGame(): Attempted to call rule named '"+e+"', but no such rule was found.");var r=n[e],o=r.condition,c=r.modifier,u=!o||o(l,t);u&&c(l,t)},a=function(e){var t=c[e.key];if(void 0!==t){var r="string"===typeof t.type?t.type:t.type(l);u(r,t.payload)}};return de(a),Object(o["t"])(e,[l,u]),[l,u]}r("a630"),r("e25e"),r("3ca3");var be=function(e){return Math.floor((e-1)/3)},fe=function(e){var t=1+Math.floor(e/9),r=1+e-9*(t-1),n=3*be(t)+(1+be(r));return{row:t,column:r,block:n}};function pe(e,t){if(81!==e.length||81!==t.length)throw new RangeError("createBoard(): puzzle or solution string was not the correct length");var r=0,n=Array.from(e,(function(e,n){var o=fe(n),c=o.row,l=o.column,u=o.block;return"0"===e&&r++,{isGiven:e===t[n],currentValue:parseInt(e),solvedValue:parseInt(t[n]),candidates:[],isSelected:!1,hasConflictsWith:[],row:c,column:l,block:u,index:n}}));return[n,r]}var je="203108000800000742900720803098073060060000439031960070007805300000030607080097500",ye="273148956816359742945726813498273165762581439531964278627815394159432687384697521",ve=pe(je,ye),Oe="060400009043008200000106000000000000004000053570000040000910000082030600007000090",he="765423189143798265298156437839245716624871953571369842456917328982534671317682594";pe(Oe,he);function me(){return{cells:ve[0],selected:null,mode:Y.VALUE,unfilledCells:ve[1],isActive:!0}}var ge={condition:function(e,t){var r=e.selected;return r!==t},modifier:function(e,t){var r=e.selected,n=e.cells;null!==r&&(n[r].isSelected=!1),null!==t&&(n[t].isSelected=!0),e.selected=t}},Ee={condition:function(e,t){var r=e.selected;return null===r||!(-9===t&&r<9)&&(!(9===t&&r>71)&&((-1!==t||r%9!==0)&&(1!==t||(r+1)%9!==0)))},modifier:function(e,t){var r=e.selected,n=e.cells;null!==r&&(n[r].isSelected=!1);var o=null===r?0:r+t;n[o].isSelected=!0,e.selected=o}},xe=(r("4160"),r("45fc"),r("159b"),r("c975"),r("13d5"),r("a434"),function(e,t){t.splice(t.indexOf(e),1)}),ke=function(e,t){return e.index!==t.index&&(e.row===t.row||e.column===t.column||e.block===t.block)},we=function(e,t){return 0!==t&&t===e.currentValue},Ce=function(e,t){return e.hasConflictsWith.includes(t.index)},Se=function(e){var t=Array.from({length:9},(function(e,t){return t+1})).reduce((function(e,t){return e["r"+t]=[],e["c"+t]=[],e["b"+t]=[],e}),{});return e.reduce((function(e,t){return 0===t.currentValue||(e["r"+t.row].push(t.currentValue),e["c"+t.column].push(t.currentValue),e["b"+t.block].push(t.currentValue)),e}),t)},Te={condition:function(e,t){var r=e.selected,n=e.cells;return null!==r&&!n[r].isGiven&&n[r].currentValue!==t},modifier:function(e,t){var r=e.cells[e.selected];0===r.currentValue&&e.unfilledCells--,0===t&&(e.unfilledCells++,e.isActive=!0),r.currentValue=t,e.cells.forEach((function(e){ke(r,e)&&(we(e,t)?(r.hasConflictsWith.push(e.index),e.hasConflictsWith.push(r.index)):Ce(r,e)&&(xe(e.index,r.hasConflictsWith),xe(r.index,e.hasConflictsWith)))})),0===e.unfilledCells&&(e.isActive=e.cells.some((function(e){return e.currentValue!==e.solvedValue})))}},Ae=(r("4de4"),r("6062"),function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var c=arguments[t],l=0,u=c.length;l<u;l++,o++)n[o]=c[l];return n}),Ve={modifier:function(e){var t=Se(e.cells);e.cells.forEach((function(e){if(0===e.currentValue){var r=new Set(Ae(t["r"+e.row],t["c"+e.column],t["b"+e.block]));e.candidates=[1,2,3,4,5,6,7,8,9].filter((function(e){return!r.has(e)}))}}))}},Le={condition:function(e){var t=e.cells,r=e.selected;return null!==r&&!t[r].isGiven},modifier:function(e,t){var r=e.cells[e.selected];0!==r.currentValue&&(r.currentValue=0,e.unfilledCells++),e.cells.forEach((function(e){ke(r,e)&&Ce(r,e)&&(xe(e.index,r.hasConflictsWith),xe(r.index,e.hasConflictsWith))})),r.candidates.includes(t)?xe(t,r.candidates):r.candidates.push(t)}},Me={modifier:function(e){e.mode=e.mode===Y.VALUE?Y.CANDIDATE:Y.VALUE}},_e={CLICK_SELECT:ge,MOVE_SELECT:Ee,SET_VALUE:Te,POPULATE_CANDIDATES:Ve,SET_CANDIDATE:Le,TOGGLE_INPUT_MODE:Me},Ie=function(e){var t=e.mode;return"SET_"+t},De={ArrowUp:{type:"MOVE_SELECT",payload:-9},ArrowLeft:{type:"MOVE_SELECT",payload:-1},ArrowDown:{type:"MOVE_SELECT",payload:9},ArrowRight:{type:"MOVE_SELECT",payload:1},w:{type:"MOVE_SELECT",payload:-9},a:{type:"MOVE_SELECT",payload:-1},s:{type:"MOVE_SELECT",payload:9},d:{type:"MOVE_SELECT",payload:1},0:{type:"SET_VALUE",payload:0},Backspace:{type:"SET_VALUE",payload:0},Delete:{type:"SET_VALUE",payload:0},1:{type:Ie,payload:1},"!":{type:Ie,payload:1},2:{type:Ie,payload:2},"@":{type:Ie,payload:2},3:{type:Ie,payload:3},"#":{type:Ie,payload:3},4:{type:Ie,payload:4},$:{type:Ie,payload:4},5:{type:Ie,payload:5},"%":{type:Ie,payload:5},6:{type:Ie,payload:6},"^":{type:Ie,payload:6},7:{type:Ie,payload:7},"&":{type:Ie,payload:7},8:{type:Ie,payload:8},"*":{type:Ie,payload:8},9:{type:Ie,payload:9},"(":{type:Ie,payload:9},n:{type:"TOGGLE_INPUT_MODE"},p:{type:"POPULATE_CANDIDATES"}},Ge=De,Ne={initialize:me,rules:_e,keyMap:Ge},Pe={setup:function(){var e=se(Symbol["for"]("sudoku-dojo:game"),Ne)[0];return{state:e}},components:{Game:W,Sidebar:ie,Victory:J}};Pe.render=d;var Ue=Pe,We={components:{Main:Ue}};We.render=c;var qe=We;r("ba8c");Object(n["b"])(qe).mount("#root")}});
//# sourceMappingURL=app.a70fb827.js.map