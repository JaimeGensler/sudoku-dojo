(function(e){function t(t){for(var n,o,u=t[0],a=t[1],i=t[2],s=0,b=[];s<u.length;s++)o=u[s],Object.prototype.hasOwnProperty.call(l,o)&&l[o]&&b.push(l[o][0]),l[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);d&&d(t);while(b.length)b.shift()();return c.push.apply(c,i||[]),r()}function r(){for(var e,t=0;t<c.length;t++){for(var r=c[t],n=!0,u=1;u<r.length;u++){var a=r[u];0!==l[a]&&(n=!1)}n&&(c.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},l={app:0},c=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],a=u.push.bind(u);u.push=t,u=u.slice();for(var i=0;i<u.length;i++)t(u[i]);var d=a;c.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},ba8c:function(e,t,r){},cd49:function(e,t,r){"use strict";r.r(t);r("e623"),r("e379"),r("5dc8"),r("37e1");var n=r("830f"),l=r("5c40");function c(e,t){var r=Object(l["w"])("Main");return Object(l["t"])(),Object(l["e"])(r)}var o=Object(l["j"])("header",null,[Object(l["j"])("h1",{class:"font-julius text-4xl lg:text-5xl text-center text-gray-800 mt-4 mb-2"}," Sudoku Dojo ")],-1),u={class:"container mx-auto"},a={class:"mx-auto flex items-center justify-center flex-col lg:items-stretch lg:flex-row"},i={class:"border border-gray-800"};function d(e,t){var r=Object(l["w"])("Victory"),n=Object(l["w"])("Game"),c=Object(l["w"])("Sidebar");return Object(l["t"])(),Object(l["e"])(l["b"],null,[e.state.isActive?Object(l["f"])("",!0):Object(l["j"])(r,{key:0}),o,Object(l["j"])("div",u,[Object(l["j"])("main",a,[Object(l["j"])("section",i,[Object(l["j"])(n)]),Object(l["j"])("section",{class:["w-108 lg:h-auto lg:w-60",e.borders]},[Object(l["j"])(c)],2)])])],64)}r("a4d3"),r("e01a"),r("d3b7");var s={tabindex:"0",class:"grid grid-cols-3"},b=Object(l["i"])("        "),j=Object(l["i"])("\n    ");function p(e,t){var r=Object(l["w"])("Block");return Object(l["t"])(),Object(l["e"])("pre",s,[b,(Object(l["t"])(),Object(l["e"])(l["b"],null,Object(l["v"])(9,(function(e){return Object(l["j"])(r,{"block-index":e,key:e},null,8,["block-index"])})),64)),j])}var f={class:"grid grid-cols-3 border border-gray-800 w-auto"};function O(e,t){var r=Object(l["w"])("Cell");return Object(l["t"])(),Object(l["e"])("div",f,[(Object(l["t"])(),Object(l["e"])(l["b"],null,Object(l["v"])(9,(function(t){return Object(l["j"])(r,{"block-index":e.blockIndex,"block-sub-index":t,key:t},null,8,["block-index","block-sub-index"])})),64))])}r("a9e3"),r("1393");function y(e,t){var r=Object(l["w"])("Given"),n=Object(l["w"])("Big"),c=Object(l["w"])("Little");return Object(l["t"])(),Object(l["e"])("div",{class:["border-gray-700 bg-white w-12 lg:w-20 h-12 lg:h-20",e.borders],onClick:t[1]||(t[1]=function(t){return e.dispatch("CLICK_SELECT",e.cell.index)})},[e.displayType.given?Object(l["j"])(r,{key:0,value:e.cell.solvedValue,colors:e.colors},null,8,["value","colors"]):Object(l["f"])("",!0),e.displayType.big?Object(l["j"])(n,{key:1,value:e.cell.currentValue,colors:e.colors},null,8,["value","colors"]):Object(l["f"])("",!0),e.displayType.little?Object(l["j"])(c,{key:2,values:e.cell.candidates,colors:e.colors},null,8,["values","colors"]):Object(l["f"])("",!0)],2)}r("caad");var v=function(e){var t=e.blockIndex,r=e.blockSubIndex,n=t-1,l=r-1,c=3*Math.floor(n/3)+Math.floor(l/3),o=n%3*3+l%3;return 9*c+o},h=function(e){var t=m(e);return{borders:g(e),displayType:t,colors:E(e,t.value.given?k:w)}},g=function(e){return Object(l["d"])((function(){var t=[2,5,8].includes(e.row),r=[2,5,8].includes(e.column);return{"border-l":r,"border-r":r,"border-t":t,"border-b":t}}))},m=function(e){return Object(l["d"])((function(){var t=e.isGiven,r=!t&&(e.currentValue>0||0===e.candidates.length),n=!t&&!r;return{given:t,big:r,little:n}}))},w={blue:["bg-blue-200","text-blue-700"],purple:["bg-purple-200","text-purple-700"],red:["bg-red-200","text-red-700"]},k={blue:["bg-blue-700","text-blue-100"],purple:["bg-purple-700","text-purple-100"],red:["bg-red-700","text-red-100"]},E=function(e,t){return Object(l["d"])((function(){var r=e.hasConflictsWith.length>0;return r&&e.isSelected?t["purple"]:r?t["red"]:e.isSelected?t["blue"]:null}))},x=r("a1e9");function C(e,t){var r=Object(l["o"])(e);if(void 0===r)throw new TypeError("consumeGame(): The injected gameState was undefined. This is most likely due to an incorrect key.");var n=r[0],c=r[1],o=t?t(n):n;if(!Object(x["d"])(o))throw new Error("consumeGame(): The provided getFromState() callback did not return a reactive value. Make sure the return is not a primitive.");return[o,c]}var A=r("9ff4");function S(e,t){return Object(l["t"])(),Object(l["e"])("span",{class:["flex text-xl items-center justify-center w-full h-full",e.colors]},Object(A["G"])(0!==e.value?String(e.value):null),3)}var T=Object(l["k"])({props:{value:{type:Number,required:!0},colors:{required:!0}}});T.render=S;var V=T;function L(e,t){return Object(l["t"])(),Object(l["e"])("span",{class:["flex items-center justify-center w-full h-full font-bold text-2xl bg-gray-300",e.colors]},Object(A["G"])(e.value),3)}var _=Object(l["k"])({props:{value:{type:Number,required:!0},colors:{required:!0}}});_.render=L;var M=_;r("2532"),r("ddb0");function D(e,t){return Object(l["t"])(),Object(l["e"])("div",{class:["flex flex-wrap h-full w-full",e.colors]},[(Object(l["t"])(),Object(l["e"])(l["b"],null,Object(l["v"])(9,(function(t){return Object(l["j"])("span",{class:"w-1/3 h-third text-xs flex items-center justify-center",key:t},Object(A["G"])(e.values.includes(t)?t:null),1)})),64))],2)}var I=Object(l["k"])({props:{values:{required:!0},colors:{required:!0}}});I.render=D;var G=I,U=Object(l["k"])({props:{blockIndex:{type:Number,required:!0},blockSubIndex:{type:Number,required:!0}},setup:function(e){var t=C(Symbol["for"]("sudoku-dojo:game"),(function(t){return t.cells[v(e)]})),r=t[0],n=t[1],l=h(r),c=l.borders,o=l.displayType,u=l.colors;return{borders:c,cell:r,dispatch:n,displayType:o,colors:u}},components:{Big:V,Given:M,Little:G}});U.render=y;var N=U,P=Object(l["k"])({props:{blockIndex:{type:Number,required:!0}},components:{Cell:N}});P.render=O;var W=P,q=Object(l["k"])({components:{Block:W}});q.render=p;var B=q,z=Object(l["j"])("section",{class:"bg-gray-100 py-8 px-16 rounded shadow-lg"},[Object(l["j"])("button"),Object(l["j"])("h2",{class:"text-5xl font-bold text-center"},"Well done!"),Object(l["j"])("p",{class:"w-64"}," Congratulations, Sudoku Master. Click anywhere to return to the puzzle. Thanks for playing! ")],-1);function K(e,t){return Object(l["t"])(),Object(l["e"])(n["a"],{name:"fade"},{default:Object(l["C"])((function(){return[Object(l["j"])("div",{class:"absolute w-screen h-screen bg-opacity-75 bg-black flex items-center justify-center",onClick:t[1]||(t[1]=function(){return e.handleClick.apply(e,arguments)})},[z])]})),_:1})}var J=Object(l["k"])({setup:function(){var e=C(Symbol["for"]("sudoku-dojo:game"))[0],t=function(){return e.isActive=!0};return{handleClick:t}}});J.render=K;var F=J,H={class:"h-full bg-white px-4 py-2 lg:py-4 space-y-2 divide-y"},R=Object(l["j"])("h2",{class:"font-bold text-xl border-b border-gray-700 w-full mb-1"}," About & Settings ",-1),Y={class:"pt-2 space-x-2 space-y-0 lg:space-x-0 lg:space-y-4 flex lg:block"},$={class:"w-3/5 lg:w-full"},Q={class:"space-y-2 w-2/5 lg:w-full"};function X(e,t){var r=Object(l["w"])("Instructions"),n=Object(l["w"])("KeyHelp"),c=Object(l["w"])("InputMode"),o=Object(l["w"])("NumPad");return Object(l["t"])(),Object(l["e"])("div",H,[Object(l["j"])("div",null,[R,Object(l["j"])(r)]),Object(l["j"])("div",Y,[Object(l["j"])("div",$,[Object(l["j"])(n)]),Object(l["j"])("div",Q,[Object(l["j"])(c),Object(l["j"])(o)])])])}var Z=Object(l["j"])("p",{class:"text-sm"},[Object(l["i"])(" Play a classic game of Sudoku! You can read about this project on "),Object(l["j"])("a",{class:"text-blue-600 visited:text-indigo-800 underline",href:"https://www.github.com/JaimeGensler/sudoku-dojo"},"Github"),Object(l["i"])(". Find keybindings listed below. ")],-1);function ee(e,t){return Object(l["t"])(),Object(l["e"])("div",null,[Z])}var te={};te.render=ee;var re=te,ne={class:"text-xs"},le=Object(l["j"])("tr",{class:"border-b"},[Object(l["j"])("td",null,"1 - 9"),Object(l["j"])("td",null,"Input a number with the current mode")],-1),ce=Object(l["j"])("tr",{class:"border-b"},[Object(l["j"])("td",null,"! - ("),Object(l["j"])("td",null,"Input a number with the alternative mode")],-1),oe=Object(l["j"])("tr",{class:"border-b"},[Object(l["j"])("td",null,"0, BS, Del"),Object(l["j"])("td",null,"Clear cell value (does not clear candidates)")],-1),ue=Object(l["j"])("tr",{class:"border-b"},[Object(l["j"])("td",null,"WASD, Arrows"),Object(l["j"])("td",null,"Move selected cell")],-1),ae=Object(l["j"])("tr",{class:"border-b"},[Object(l["j"])("td",null,"n"),Object(l["j"])("td",null,"Switch input mode")],-1),ie=Object(l["j"])("tr",null,[Object(l["j"])("td",null,"p"),Object(l["j"])("td",null,"Populate candidates given current board")],-1);function de(e,t){return Object(l["t"])(),Object(l["e"])("table",ne,[le,ce,oe,ue,ae,ie])}var se={};se.render=de;var be,je=se,pe={class:"flex mx-auto justify-center text-sm"};function fe(e,t){return Object(l["t"])(),Object(l["e"])("div",pe,[Object(l["j"])("button",{class:["p-2 border border-gray-700 rounded-l-lg transition-colors duration-150",e.currentMode.VALUE],onClick:t[1]||(t[1]=function(t){return e.handleClick("VALUE")})}," Values ",2),Object(l["j"])("button",{class:["p-2 border border-gray-700 rounded-r-lg transition-colors duration-150",e.currentMode.CANDIDATE],onClick:t[2]||(t[2]=function(t){return e.handleClick("CANDIDATE")})}," Candidates ",2)])}(function(e){e["VALUE"]="VALUE",e["CANDIDATE"]="CANDIDATE"})(be||(be={}));var Oe=function(e,t){var r;return r={},r["border-"+e+"-0"]=!t,r["border-blue-800"]=t,r["text-blue-800"]=t,r["bg-blue-200"]=t,r},ye=function(e){return Object(l["d"])((function(){var t=e.mode===be.VALUE;return{VALUE:Oe("r",t),CANDIDATE:Oe("l",!t)}}))},ve=Object(l["k"])({components:{},setup:function(){var e=C(Symbol["for"]("sudoku-dojo:game")),t=e[0],r=e[1],n=ye(t),l=function(e){be[e]!==t.mode&&r("TOGGLE_INPUT_MODE")};return{state:t,currentMode:n,handleClick:l}}});ve.render=fe;var he=ve,ge={class:"border border-gray-700 mx-auto w-24 lg:w-48 rounded"},me={class:"grid grid-cols-3"};function we(e,t){return Object(l["t"])(),Object(l["e"])("div",ge,[Object(l["j"])("div",me,[(Object(l["t"])(),Object(l["e"])(l["b"],null,Object(l["v"])(9,(function(t){return Object(l["j"])("button",{class:["h-8 w-8 lg:h-16 lg:w-16 p-1 border-gray-700",e.getBorders(t)],onClick:function(r){return e.handleClick(t)}},Object(A["G"])(t),11,["onClick"])})),64))]),Object(l["j"])("button",{class:"border-t border-gray-700 w-full h-8",onClick:t[1]||(t[1]=function(t){return e.handleClick(0)})}," Delete ")])}var ke=Object(l["k"])({components:{},setup:function(){var e=C(Symbol["for"]("sudoku-dojo:game")),t=e[0],r=e[1],n=function(e){var t=[4,5,6].includes(e),r=[2,5,8].includes(e);return{"border-l":r,"border-r":r,"border-t":t,"border-b":t}},l=function(e){return r("SET_"+t.mode,e)};return{getBorders:n,handleClick:l}}});ke.render=we;var Ee=ke,xe=Object(l["k"])({components:{Instructions:re,KeyHelp:je,InputMode:he,NumPad:Ee}});xe.render=X;var Ce=xe;function Ae(e){Object(l["p"])((function(){return window.addEventListener("keydown",e)})),Object(l["q"])((function(){return window.removeEventListener("keydown",e)}))}function Se(e,t){var r=t.initialize,n=t.rules,c=t.keyMap,o=Object(x["h"])(r()),u=function(e,t){if(void 0===n[e])throw new Error("provideGame(): Attempted to call rule named '"+e+"', but no such rule was found.");var r=n[e],l=r.condition,c=r.modifier,u=!l||l(o,t);u&&c(o,t)},a=function(e){var t=c[e.key];if(void 0!==t){var r="string"===typeof t.type?t.type:t.type(o);u(r,t.payload)}};return Ae(a),Object(l["u"])(e,[o,u]),[o,u]}r("a630"),r("e25e"),r("3ca3");var Te=function(e){return Math.floor((e-1)/3)},Ve=function(e){var t=1+Math.floor(e/9),r=1+e-9*(t-1),n=3*Te(t)+(1+Te(r));return{row:t,column:r,block:n}};function Le(e,t){if(81!==e.length||81!==t.length)throw new RangeError("createBoard(): puzzle or solution string was not the correct length");var r=0,n=Array.from(e,(function(e,n){var l=Ve(n),c=l.row,o=l.column,u=l.block;return"0"===e&&r++,{isGiven:e===t[n],currentValue:parseInt(e,10),solvedValue:parseInt(t[n],10),candidates:[],isSelected:!1,hasConflictsWith:[],row:c,column:o,block:u,index:n}}));return[n,r]}var _e="203108000800000742900720803098073060060000439031960070007805300000030607080097500",Me="273148956816359742945726813498273165762581439531964278627815394159432687384697521",De=Le(_e,Me),Ie="060400009043008200000106000000000000004000053570000040000910000082030600007000090",Ge="765423189143798265298156437839245716624871953571369842456917328982534671317682594";Le(Ie,Ge);function Ue(){return{cells:De[0],selected:null,mode:be.VALUE,unfilledCells:De[1],isActive:!0}}var Ne={condition:function(e,t){var r=e.selected;return r!==t},modifier:function(e,t){var r=e.selected,n=e.cells;null!==r&&(n[r].isSelected=!1),null!==t&&(n[t].isSelected=!0),e.selected=t}},Pe={condition:function(e,t){var r=e.selected;return null===r||!(-9===t&&r<9)&&(!(9===t&&r>71)&&((-1!==t||r%9!==0)&&(1!==t||(r+1)%9!==0)))},modifier:function(e,t){var r=e.selected,n=e.cells;null!==r&&(n[r].isSelected=!1);var l=null===r?0:r+t;n[l].isSelected=!0,e.selected=l}},We=(r("4160"),r("45fc"),r("159b"),r("c975"),r("13d5"),r("a434"),function(e,t){t.splice(t.indexOf(e),1)}),qe=function(e,t){return e.index!==t.index&&(e.row===t.row||e.column===t.column||e.block===t.block)},Be=function(e,t){return 0!==t&&t===e.currentValue},ze=function(e,t){return e.hasConflictsWith.includes(t.index)},Ke=function(e){var t=Array.from({length:9},(function(e,t){return t+1})).reduce((function(e,t){return e["r"+t]=[],e["c"+t]=[],e["b"+t]=[],e}),{});return e.reduce((function(e,t){return 0===t.currentValue||(e["r"+t.row].push(t.currentValue),e["c"+t.column].push(t.currentValue),e["b"+t.block].push(t.currentValue)),e}),t)},Je={condition:function(e,t){var r=e.selected,n=e.cells;return null!==r&&!n[r].isGiven&&n[r].currentValue!==t},modifier:function(e,t){var r=e.cells[e.selected];0===r.currentValue&&e.unfilledCells--,0===t&&(e.unfilledCells++,e.isActive=!0),r.currentValue=t,e.cells.forEach((function(e){qe(r,e)&&(Be(e,t)?(r.hasConflictsWith.push(e.index),e.hasConflictsWith.push(r.index)):ze(r,e)&&(We(e.index,r.hasConflictsWith),We(r.index,e.hasConflictsWith)))})),0===e.unfilledCells&&(e.isActive=e.cells.some((function(e){return e.currentValue!==e.solvedValue})))}},Fe=(r("4de4"),r("6062"),function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),l=0;for(t=0;t<r;t++)for(var c=arguments[t],o=0,u=c.length;o<u;o++,l++)n[l]=c[o];return n}),He={modifier:function(e){var t=Ke(e.cells);e.cells.forEach((function(e){if(0===e.currentValue){var r=new Set(Fe(t["r"+e.row],t["c"+e.column],t["b"+e.block]));e.candidates=[1,2,3,4,5,6,7,8,9].filter((function(e){return!r.has(e)}))}}))}},Re={condition:function(e){var t=e.cells,r=e.selected;return null!==r&&!t[r].isGiven},modifier:function(e,t){var r=e.cells[e.selected];0!==r.currentValue&&(r.currentValue=0,e.unfilledCells++),e.cells.forEach((function(e){qe(r,e)&&ze(r,e)&&(We(e.index,r.hasConflictsWith),We(r.index,e.hasConflictsWith))})),r.candidates.includes(t)?We(t,r.candidates):r.candidates.push(t)}},Ye={modifier:function(e){e.mode=e.mode===be.VALUE?be.CANDIDATE:be.VALUE}},$e={CLICK_SELECT:Ne,MOVE_SELECT:Pe,SET_VALUE:Je,POPULATE_CANDIDATES:He,SET_CANDIDATE:Re,TOGGLE_INPUT_MODE:Ye},Qe=function(e){return"SET_"+e.mode},Xe=function(e){return"SET_"+(e.mode===be.VALUE?be.CANDIDATE:be.VALUE)},Ze={ArrowUp:{type:"MOVE_SELECT",payload:-9},ArrowLeft:{type:"MOVE_SELECT",payload:-1},ArrowDown:{type:"MOVE_SELECT",payload:9},ArrowRight:{type:"MOVE_SELECT",payload:1},w:{type:"MOVE_SELECT",payload:-9},a:{type:"MOVE_SELECT",payload:-1},s:{type:"MOVE_SELECT",payload:9},d:{type:"MOVE_SELECT",payload:1},0:{type:"SET_VALUE",payload:0},Backspace:{type:"SET_VALUE",payload:0},Delete:{type:"SET_VALUE",payload:0},1:{type:Qe,payload:1},"!":{type:Xe,payload:1},2:{type:Qe,payload:2},"@":{type:Xe,payload:2},3:{type:Qe,payload:3},"#":{type:Xe,payload:3},4:{type:Qe,payload:4},$:{type:Xe,payload:4},5:{type:Qe,payload:5},"%":{type:Xe,payload:5},6:{type:Qe,payload:6},"^":{type:Xe,payload:6},7:{type:Qe,payload:7},"&":{type:Xe,payload:7},8:{type:Qe,payload:8},"*":{type:Xe,payload:8},9:{type:Qe,payload:9},"(":{type:Xe,payload:9},n:{type:"TOGGLE_INPUT_MODE"},p:{type:"POPULATE_CANDIDATES"}},et=Ze,tt={initialize:Ue,rules:$e,keyMap:et},rt=Object(l["k"])({setup:function(){var e=Se(Symbol["for"]("sudoku-dojo:game"),tt)[0],t="border-gray-800 border-b-2 border-r-2 border-t-0 border-l-2 lg:border-t-2 lg:border-l-0";return{state:e,borders:t}},components:{Game:B,Sidebar:Ce,Victory:F}});rt.render=d;var nt=rt,lt=Object(l["k"])({components:{Main:nt}});lt.render=c;var ct=lt;r("ba8c");Object(n["b"])(ct).mount("#root")}});
//# sourceMappingURL=app.a83364a7.js.map